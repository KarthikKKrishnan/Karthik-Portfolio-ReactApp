{"ast":null,"code":"'use client';\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport { dequal } from 'dequal';\nimport pdfjs from './pdfjs.js';\nimport DocumentContext from './DocumentContext.js';\nimport Message from './Message.js';\nimport LinkService from './LinkService.js';\nimport PasswordResponses from './PasswordResponses.js';\nimport { cancelRunningTask, dataURItoByteString, displayCORSWarning, isArrayBuffer, isBlob, isBrowser, isDataURI, loadFromFile } from './shared/utils.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { eventProps, isClassName, isFile, isRef } from './shared/propTypes.js';\nconst {\n  PDFDataRangeTransport\n} = pdfjs;\n\nconst defaultOnPassword = (callback, reason) => {\n  switch (reason) {\n    case PasswordResponses.NEED_PASSWORD:\n      {\n        // eslint-disable-next-line no-alert\n        const password = prompt('Enter the password to open this PDF file.');\n        callback(password);\n        break;\n      }\n\n    case PasswordResponses.INCORRECT_PASSWORD:\n      {\n        // eslint-disable-next-line no-alert\n        const password = prompt('Invalid password. Please try again.');\n        callback(password);\n        break;\n      }\n\n    default:\n  }\n};\n\nfunction isParameterObject(file) {\n  return typeof file === 'object' && file !== null && ('data' in file || 'range' in file || 'url' in file);\n}\n/**\n * Loads a document passed using `file` prop.\n */\n\n\nconst Document = forwardRef(function Document(_a, ref) {\n  var {\n    children,\n    className,\n    error = 'Failed to load PDF file.',\n    externalLinkRel,\n    externalLinkTarget,\n    file,\n    inputRef,\n    imageResourcesPath,\n    loading = 'Loading PDFâ€¦',\n    noData = 'No PDF file specified.',\n    onItemClick,\n    onLoadError: onLoadErrorProps,\n    onLoadProgress,\n    onLoadSuccess: onLoadSuccessProps,\n    onPassword = defaultOnPassword,\n    onSourceError: onSourceErrorProps,\n    onSourceSuccess: onSourceSuccessProps,\n    options,\n    renderMode,\n    rotate\n  } = _a,\n      otherProps = __rest(_a, [\"children\", \"className\", \"error\", \"externalLinkRel\", \"externalLinkTarget\", \"file\", \"inputRef\", \"imageResourcesPath\", \"loading\", \"noData\", \"onItemClick\", \"onLoadError\", \"onLoadProgress\", \"onLoadSuccess\", \"onPassword\", \"onSourceError\", \"onSourceSuccess\", \"options\", \"renderMode\", \"rotate\"]);\n\n  const [sourceState, sourceDispatch] = useResolver();\n  const {\n    value: source,\n    error: sourceError\n  } = sourceState;\n  const [pdfState, pdfDispatch] = useResolver();\n  const {\n    value: pdf,\n    error: pdfError\n  } = pdfState;\n  const linkService = useRef(new LinkService());\n  const pages = useRef([]);\n  const prevFile = useRef();\n  const prevOptions = useRef();\n  useEffect(() => {\n    if (file && file !== prevFile.current && isParameterObject(file)) {\n      warning(!dequal(file, prevFile.current), `File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"file\" prop.`);\n      prevFile.current = file;\n    }\n  }, [file]); // Detect non-memoized changes in options prop\n\n  useEffect(() => {\n    if (options && options !== prevOptions.current) {\n      warning(!dequal(options, prevOptions.current), `Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"options\" prop.`);\n      prevOptions.current = options;\n    }\n  }, [options]);\n  const viewer = useRef({\n    // Handling jumping to internal links target\n    scrollPageIntoView: args => {\n      const {\n        dest,\n        pageNumber,\n        pageIndex = pageNumber - 1\n      } = args; // First, check if custom handling of onItemClick was provided\n\n      if (onItemClick) {\n        onItemClick({\n          dest,\n          pageIndex,\n          pageNumber\n        });\n        return;\n      } // If not, try to look for target page within the <Document>.\n\n\n      const page = pages.current[pageIndex];\n\n      if (page) {\n        // Scroll to the page automatically\n        page.scrollIntoView();\n        return;\n      }\n\n      warning(false, `An internal link leading to page ${pageNumber} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`);\n    }\n  });\n  useImperativeHandle(ref, () => ({\n    linkService,\n    pages,\n    viewer\n  }), []);\n  /**\n   * Called when a document source is resolved correctly\n   */\n\n  function onSourceSuccess() {\n    if (onSourceSuccessProps) {\n      onSourceSuccessProps();\n    }\n  }\n  /**\n   * Called when a document source failed to be resolved correctly\n   */\n\n\n  function onSourceError() {\n    if (!sourceError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    warning(false, sourceError.toString());\n\n    if (onSourceErrorProps) {\n      onSourceErrorProps(sourceError);\n    }\n  }\n\n  function resetSource() {\n    sourceDispatch({\n      type: 'RESET'\n    });\n  }\n\n  useEffect(resetSource, [file, sourceDispatch]);\n  const findDocumentSource = useCallback(() => __awaiter(this, void 0, void 0, function* () {\n    if (!file) {\n      return null;\n    } // File is a string\n\n\n    if (typeof file === 'string') {\n      if (isDataURI(file)) {\n        const fileByteString = dataURItoByteString(file);\n        return {\n          data: fileByteString\n        };\n      }\n\n      displayCORSWarning();\n      return {\n        url: file\n      };\n    } // File is PDFDataRangeTransport\n\n\n    if (file instanceof PDFDataRangeTransport) {\n      return {\n        range: file\n      };\n    } // File is an ArrayBuffer\n\n\n    if (isArrayBuffer(file)) {\n      return {\n        data: file\n      };\n    }\n    /**\n     * The cases below are browser-only.\n     * If you're running on a non-browser environment, these cases will be of no use.\n     */\n\n\n    if (isBrowser) {\n      // File is a Blob\n      if (isBlob(file)) {\n        const data = yield loadFromFile(file);\n        return {\n          data\n        };\n      }\n    } // At this point, file must be an object\n\n\n    invariant(typeof file === 'object', 'Invalid parameter in file, need either Uint8Array, string or a parameter object');\n    invariant(isParameterObject(file), 'Invalid parameter object: need either .data, .range or .url'); // File .url is a string\n\n    if ('url' in file && typeof file.url === 'string') {\n      if (isDataURI(file.url)) {\n        const {\n          url\n        } = file,\n              otherParams = __rest(file, [\"url\"]);\n\n        const fileByteString = dataURItoByteString(url);\n        return Object.assign({\n          data: fileByteString\n        }, otherParams);\n      }\n\n      displayCORSWarning();\n    }\n\n    return file;\n  }), [file]);\n  useEffect(() => {\n    const cancellable = makeCancellable(findDocumentSource());\n    cancellable.promise.then(nextSource => {\n      sourceDispatch({\n        type: 'RESOLVE',\n        value: nextSource\n      });\n    }).catch(error => {\n      sourceDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => {\n      cancelRunningTask(cancellable);\n    };\n  }, [findDocumentSource, sourceDispatch]);\n  useEffect(() => {\n    if (typeof source === 'undefined') {\n      return;\n    }\n\n    if (source === false) {\n      onSourceError();\n      return;\n    }\n\n    onSourceSuccess();\n  }, // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [source]);\n  /**\n   * Called when a document is read successfully\n   */\n\n  function onLoadSuccess() {\n    if (!pdf) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    if (onLoadSuccessProps) {\n      onLoadSuccessProps(pdf);\n    }\n\n    pages.current = new Array(pdf.numPages);\n    linkService.current.setDocument(pdf);\n  }\n  /**\n   * Called when a document failed to read successfully\n   */\n\n\n  function onLoadError() {\n    if (!pdfError) {\n      // Impossible, but TypeScript doesn't know that\n      return;\n    }\n\n    warning(false, pdfError.toString());\n\n    if (onLoadErrorProps) {\n      onLoadErrorProps(pdfError);\n    }\n  }\n\n  function resetDocument() {\n    pdfDispatch({\n      type: 'RESET'\n    });\n  }\n\n  useEffect(resetDocument, [pdfDispatch, source]);\n\n  function loadDocument() {\n    if (!source) {\n      return;\n    }\n\n    const documentInitParams = options ? Object.assign(Object.assign({}, source), options) : source;\n    const destroyable = pdfjs.getDocument(documentInitParams);\n\n    if (onLoadProgress) {\n      destroyable.onProgress = onLoadProgress;\n    }\n\n    if (onPassword) {\n      destroyable.onPassword = onPassword;\n    }\n\n    const loadingTask = destroyable;\n    loadingTask.promise.then(nextPdf => {\n      pdfDispatch({\n        type: 'RESOLVE',\n        value: nextPdf\n      });\n    }).catch(error => {\n      if (loadingTask.destroyed) {\n        return;\n      }\n\n      pdfDispatch({\n        type: 'REJECT',\n        error\n      });\n    });\n    return () => {\n      loadingTask.destroy();\n    };\n  }\n\n  useEffect(loadDocument, // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [options, pdfDispatch, source]);\n  useEffect(() => {\n    if (typeof pdf === 'undefined') {\n      return;\n    }\n\n    if (pdf === false) {\n      onLoadError();\n      return;\n    }\n\n    onLoadSuccess();\n  }, // Ommitted callbacks so they are not called every time they change\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  [pdf]);\n\n  function setupLinkService() {\n    linkService.current.setViewer(viewer.current);\n    linkService.current.setExternalLinkRel(externalLinkRel);\n    linkService.current.setExternalLinkTarget(externalLinkTarget);\n  }\n\n  useEffect(setupLinkService, [externalLinkRel, externalLinkTarget]);\n\n  function registerPage(pageIndex, ref) {\n    pages.current[pageIndex] = ref;\n  }\n\n  function unregisterPage(pageIndex) {\n    delete pages.current[pageIndex];\n  }\n\n  const childContext = useMemo(() => ({\n    imageResourcesPath,\n    linkService: linkService.current,\n    onItemClick,\n    pdf,\n    registerPage,\n    renderMode,\n    rotate,\n    unregisterPage\n  }), [imageResourcesPath, onItemClick, pdf, renderMode, rotate]);\n  const eventProps = useMemo(() => makeEventProps(otherProps, () => pdf), [otherProps, pdf]);\n\n  function renderChildren() {\n    return React.createElement(DocumentContext.Provider, {\n      value: childContext\n    }, children);\n  }\n\n  function renderContent() {\n    if (!file) {\n      return React.createElement(Message, {\n        type: \"no-data\"\n      }, typeof noData === 'function' ? noData() : noData);\n    }\n\n    if (pdf === undefined || pdf === null) {\n      return React.createElement(Message, {\n        type: \"loading\"\n      }, typeof loading === 'function' ? loading() : loading);\n    }\n\n    if (pdf === false) {\n      return React.createElement(Message, {\n        type: \"error\"\n      }, typeof error === 'function' ? error() : error);\n    }\n\n    return renderChildren();\n  }\n\n  return React.createElement(\"div\", Object.assign({\n    className: clsx('react-pdf__Document', className),\n    ref: inputRef,\n    style: {\n      ['--scale-factor']: '1'\n    }\n  }, eventProps), renderContent());\n});\nconst isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nDocument.propTypes = Object.assign(Object.assign({}, eventProps), {\n  children: PropTypes.node,\n  className: isClassName,\n  error: isFunctionOrNode,\n  externalLinkRel: PropTypes.string,\n  externalLinkTarget: PropTypes.oneOf(['_self', '_blank', '_parent', '_top']),\n  file: isFile,\n  imageResourcesPath: PropTypes.string,\n  inputRef: isRef,\n  loading: isFunctionOrNode,\n  noData: isFunctionOrNode,\n  onItemClick: PropTypes.func,\n  onLoadError: PropTypes.func,\n  onLoadProgress: PropTypes.func,\n  onLoadSuccess: PropTypes.func,\n  onPassword: PropTypes.func,\n  onSourceError: PropTypes.func,\n  onSourceSuccess: PropTypes.func,\n  options: PropTypes.shape({\n    canvasFactory: PropTypes.any,\n    canvasMaxAreaInBytes: PropTypes.number,\n    cMapPacked: PropTypes.bool,\n    CMapReaderFactory: PropTypes.any,\n    cMapUrl: PropTypes.string,\n    disableAutoFetch: PropTypes.bool,\n    disableFontFace: PropTypes.bool,\n    disableRange: PropTypes.bool,\n    disableStream: PropTypes.bool,\n    docBaseUrl: PropTypes.string,\n    enableXfa: PropTypes.bool,\n    filterFactory: PropTypes.any,\n    fontExtraProperties: PropTypes.bool,\n    httpHeaders: PropTypes.object,\n    isEvalSupported: PropTypes.bool,\n    isOffscreenCanvasSupported: PropTypes.bool,\n    length: PropTypes.number,\n    maxImageSize: PropTypes.number,\n    ownerDocument: PropTypes.any,\n    password: PropTypes.string,\n    pdfBug: PropTypes.bool,\n    rangeChunkSize: PropTypes.number,\n    StandardFontDataFactory: PropTypes.any,\n    standardFontDataUrl: PropTypes.string,\n    stopAtErrors: PropTypes.bool,\n    useSystemFonts: PropTypes.bool,\n    useWorkerFetch: PropTypes.bool,\n    verbosity: PropTypes.number,\n    withCredentials: PropTypes.bool,\n    worker: PropTypes.any\n  }),\n  rotate: PropTypes.number\n});\nexport default Document;","map":{"version":3,"sources":["C:/Users/USER/Desktop/Karthik Krishnan K K - Portfolio React/portfolio-app-react-main/node_modules/react-pdf/dist/esm/Document.js"],"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__rest","s","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","React","forwardRef","useCallback","useEffect","useImperativeHandle","useMemo","useRef","PropTypes","makeEventProps","makeCancellable","clsx","invariant","warning","dequal","pdfjs","DocumentContext","Message","LinkService","PasswordResponses","cancelRunningTask","dataURItoByteString","displayCORSWarning","isArrayBuffer","isBlob","isBrowser","isDataURI","loadFromFile","useResolver","eventProps","isClassName","isFile","isRef","PDFDataRangeTransport","defaultOnPassword","callback","reason","NEED_PASSWORD","password","prompt","INCORRECT_PASSWORD","isParameterObject","file","Document","_a","ref","children","className","error","externalLinkRel","externalLinkTarget","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadErrorProps","onLoadProgress","onLoadSuccess","onLoadSuccessProps","onPassword","onSourceError","onSourceErrorProps","onSourceSuccess","onSourceSuccessProps","options","renderMode","rotate","otherProps","sourceState","sourceDispatch","source","sourceError","pdfState","pdfDispatch","pdf","pdfError","linkService","pages","prevFile","prevOptions","current","viewer","scrollPageIntoView","args","dest","pageNumber","pageIndex","page","scrollIntoView","toString","resetSource","type","findDocumentSource","fileByteString","data","url","range","otherParams","assign","cancellable","promise","nextSource","catch","Array","numPages","setDocument","resetDocument","loadDocument","documentInitParams","destroyable","getDocument","onProgress","loadingTask","nextPdf","destroyed","destroy","setupLinkService","setViewer","setExternalLinkRel","setExternalLinkTarget","registerPage","unregisterPage","childContext","renderChildren","createElement","Provider","renderContent","undefined","style","isFunctionOrNode","oneOfType","func","node","propTypes","string","oneOf","shape","canvasFactory","any","canvasMaxAreaInBytes","number","cMapPacked","bool","CMapReaderFactory","cMapUrl","disableAutoFetch","disableFontFace","disableRange","disableStream","docBaseUrl","enableXfa","filterFactory","fontExtraProperties","httpHeaders","object","isEvalSupported","isOffscreenCanvasSupported","maxImageSize","ownerDocument","pdfBug","rangeChunkSize","StandardFontDataFactory","standardFontDataUrl","stopAtErrors","useSystemFonts","useWorkerFetch","verbosity","withCredentials","worker"],"mappings":"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","sourcesContent":["'use client';\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport React, { forwardRef, useCallback, useEffect, useImperativeHandle, useMemo, useRef, } from 'react';\nimport PropTypes from 'prop-types';\nimport makeEventProps from 'make-event-props';\nimport makeCancellable from 'make-cancellable-promise';\nimport clsx from 'clsx';\nimport invariant from 'tiny-invariant';\nimport warning from 'warning';\nimport { dequal } from 'dequal';\nimport pdfjs from './pdfjs.js';\nimport DocumentContext from './DocumentContext.js';\nimport Message from './Message.js';\nimport LinkService from './LinkService.js';\nimport PasswordResponses from './PasswordResponses.js';\nimport { cancelRunningTask, dataURItoByteString, displayCORSWarning, isArrayBuffer, isBlob, isBrowser, isDataURI, loadFromFile, } from './shared/utils.js';\nimport useResolver from './shared/hooks/useResolver.js';\nimport { eventProps, isClassName, isFile, isRef } from './shared/propTypes.js';\nconst { PDFDataRangeTransport } = pdfjs;\nconst defaultOnPassword = (callback, reason) => {\n    switch (reason) {\n        case PasswordResponses.NEED_PASSWORD: {\n            // eslint-disable-next-line no-alert\n            const password = prompt('Enter the password to open this PDF file.');\n            callback(password);\n            break;\n        }\n        case PasswordResponses.INCORRECT_PASSWORD: {\n            // eslint-disable-next-line no-alert\n            const password = prompt('Invalid password. Please try again.');\n            callback(password);\n            break;\n        }\n        default:\n    }\n};\nfunction isParameterObject(file) {\n    return (typeof file === 'object' &&\n        file !== null &&\n        ('data' in file || 'range' in file || 'url' in file));\n}\n/**\n * Loads a document passed using `file` prop.\n */\nconst Document = forwardRef(function Document(_a, ref) {\n    var { children, className, error = 'Failed to load PDF file.', externalLinkRel, externalLinkTarget, file, inputRef, imageResourcesPath, loading = 'Loading PDFâ€¦', noData = 'No PDF file specified.', onItemClick, onLoadError: onLoadErrorProps, onLoadProgress, onLoadSuccess: onLoadSuccessProps, onPassword = defaultOnPassword, onSourceError: onSourceErrorProps, onSourceSuccess: onSourceSuccessProps, options, renderMode, rotate } = _a, otherProps = __rest(_a, [\"children\", \"className\", \"error\", \"externalLinkRel\", \"externalLinkTarget\", \"file\", \"inputRef\", \"imageResourcesPath\", \"loading\", \"noData\", \"onItemClick\", \"onLoadError\", \"onLoadProgress\", \"onLoadSuccess\", \"onPassword\", \"onSourceError\", \"onSourceSuccess\", \"options\", \"renderMode\", \"rotate\"]);\n    const [sourceState, sourceDispatch] = useResolver();\n    const { value: source, error: sourceError } = sourceState;\n    const [pdfState, pdfDispatch] = useResolver();\n    const { value: pdf, error: pdfError } = pdfState;\n    const linkService = useRef(new LinkService());\n    const pages = useRef([]);\n    const prevFile = useRef();\n    const prevOptions = useRef();\n    useEffect(() => {\n        if (file && file !== prevFile.current && isParameterObject(file)) {\n            warning(!dequal(file, prevFile.current), `File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"file\" prop.`);\n            prevFile.current = file;\n        }\n    }, [file]);\n    // Detect non-memoized changes in options prop\n    useEffect(() => {\n        if (options && options !== prevOptions.current) {\n            warning(!dequal(options, prevOptions.current), `Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to \"options\" prop.`);\n            prevOptions.current = options;\n        }\n    }, [options]);\n    const viewer = useRef({\n        // Handling jumping to internal links target\n        scrollPageIntoView: (args) => {\n            const { dest, pageNumber, pageIndex = pageNumber - 1 } = args;\n            // First, check if custom handling of onItemClick was provided\n            if (onItemClick) {\n                onItemClick({ dest, pageIndex, pageNumber });\n                return;\n            }\n            // If not, try to look for target page within the <Document>.\n            const page = pages.current[pageIndex];\n            if (page) {\n                // Scroll to the page automatically\n                page.scrollIntoView();\n                return;\n            }\n            warning(false, `An internal link leading to page ${pageNumber} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`);\n        },\n    });\n    useImperativeHandle(ref, () => ({\n        linkService,\n        pages,\n        viewer,\n    }), []);\n    /**\n     * Called when a document source is resolved correctly\n     */\n    function onSourceSuccess() {\n        if (onSourceSuccessProps) {\n            onSourceSuccessProps();\n        }\n    }\n    /**\n     * Called when a document source failed to be resolved correctly\n     */\n    function onSourceError() {\n        if (!sourceError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, sourceError.toString());\n        if (onSourceErrorProps) {\n            onSourceErrorProps(sourceError);\n        }\n    }\n    function resetSource() {\n        sourceDispatch({ type: 'RESET' });\n    }\n    useEffect(resetSource, [file, sourceDispatch]);\n    const findDocumentSource = useCallback(() => __awaiter(this, void 0, void 0, function* () {\n        if (!file) {\n            return null;\n        }\n        // File is a string\n        if (typeof file === 'string') {\n            if (isDataURI(file)) {\n                const fileByteString = dataURItoByteString(file);\n                return { data: fileByteString };\n            }\n            displayCORSWarning();\n            return { url: file };\n        }\n        // File is PDFDataRangeTransport\n        if (file instanceof PDFDataRangeTransport) {\n            return { range: file };\n        }\n        // File is an ArrayBuffer\n        if (isArrayBuffer(file)) {\n            return { data: file };\n        }\n        /**\n         * The cases below are browser-only.\n         * If you're running on a non-browser environment, these cases will be of no use.\n         */\n        if (isBrowser) {\n            // File is a Blob\n            if (isBlob(file)) {\n                const data = yield loadFromFile(file);\n                return { data };\n            }\n        }\n        // At this point, file must be an object\n        invariant(typeof file === 'object', 'Invalid parameter in file, need either Uint8Array, string or a parameter object');\n        invariant(isParameterObject(file), 'Invalid parameter object: need either .data, .range or .url');\n        // File .url is a string\n        if ('url' in file && typeof file.url === 'string') {\n            if (isDataURI(file.url)) {\n                const { url } = file, otherParams = __rest(file, [\"url\"]);\n                const fileByteString = dataURItoByteString(url);\n                return Object.assign({ data: fileByteString }, otherParams);\n            }\n            displayCORSWarning();\n        }\n        return file;\n    }), [file]);\n    useEffect(() => {\n        const cancellable = makeCancellable(findDocumentSource());\n        cancellable.promise\n            .then((nextSource) => {\n            sourceDispatch({ type: 'RESOLVE', value: nextSource });\n        })\n            .catch((error) => {\n            sourceDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            cancelRunningTask(cancellable);\n        };\n    }, [findDocumentSource, sourceDispatch]);\n    useEffect(() => {\n        if (typeof source === 'undefined') {\n            return;\n        }\n        if (source === false) {\n            onSourceError();\n            return;\n        }\n        onSourceSuccess();\n    }, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [source]);\n    /**\n     * Called when a document is read successfully\n     */\n    function onLoadSuccess() {\n        if (!pdf) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        if (onLoadSuccessProps) {\n            onLoadSuccessProps(pdf);\n        }\n        pages.current = new Array(pdf.numPages);\n        linkService.current.setDocument(pdf);\n    }\n    /**\n     * Called when a document failed to read successfully\n     */\n    function onLoadError() {\n        if (!pdfError) {\n            // Impossible, but TypeScript doesn't know that\n            return;\n        }\n        warning(false, pdfError.toString());\n        if (onLoadErrorProps) {\n            onLoadErrorProps(pdfError);\n        }\n    }\n    function resetDocument() {\n        pdfDispatch({ type: 'RESET' });\n    }\n    useEffect(resetDocument, [pdfDispatch, source]);\n    function loadDocument() {\n        if (!source) {\n            return;\n        }\n        const documentInitParams = options\n            ? Object.assign(Object.assign({}, source), options) : source;\n        const destroyable = pdfjs.getDocument(documentInitParams);\n        if (onLoadProgress) {\n            destroyable.onProgress = onLoadProgress;\n        }\n        if (onPassword) {\n            destroyable.onPassword = onPassword;\n        }\n        const loadingTask = destroyable;\n        loadingTask.promise\n            .then((nextPdf) => {\n            pdfDispatch({ type: 'RESOLVE', value: nextPdf });\n        })\n            .catch((error) => {\n            if (loadingTask.destroyed) {\n                return;\n            }\n            pdfDispatch({ type: 'REJECT', error });\n        });\n        return () => {\n            loadingTask.destroy();\n        };\n    }\n    useEffect(loadDocument, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [options, pdfDispatch, source]);\n    useEffect(() => {\n        if (typeof pdf === 'undefined') {\n            return;\n        }\n        if (pdf === false) {\n            onLoadError();\n            return;\n        }\n        onLoadSuccess();\n    }, \n    // Ommitted callbacks so they are not called every time they change\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [pdf]);\n    function setupLinkService() {\n        linkService.current.setViewer(viewer.current);\n        linkService.current.setExternalLinkRel(externalLinkRel);\n        linkService.current.setExternalLinkTarget(externalLinkTarget);\n    }\n    useEffect(setupLinkService, [externalLinkRel, externalLinkTarget]);\n    function registerPage(pageIndex, ref) {\n        pages.current[pageIndex] = ref;\n    }\n    function unregisterPage(pageIndex) {\n        delete pages.current[pageIndex];\n    }\n    const childContext = useMemo(() => ({\n        imageResourcesPath,\n        linkService: linkService.current,\n        onItemClick,\n        pdf,\n        registerPage,\n        renderMode,\n        rotate,\n        unregisterPage,\n    }), [imageResourcesPath, onItemClick, pdf, renderMode, rotate]);\n    const eventProps = useMemo(() => makeEventProps(otherProps, () => pdf), [otherProps, pdf]);\n    function renderChildren() {\n        return React.createElement(DocumentContext.Provider, { value: childContext }, children);\n    }\n    function renderContent() {\n        if (!file) {\n            return React.createElement(Message, { type: \"no-data\" }, typeof noData === 'function' ? noData() : noData);\n        }\n        if (pdf === undefined || pdf === null) {\n            return (React.createElement(Message, { type: \"loading\" }, typeof loading === 'function' ? loading() : loading));\n        }\n        if (pdf === false) {\n            return React.createElement(Message, { type: \"error\" }, typeof error === 'function' ? error() : error);\n        }\n        return renderChildren();\n    }\n    return (React.createElement(\"div\", Object.assign({ className: clsx('react-pdf__Document', className), ref: inputRef, style: {\n            ['--scale-factor']: '1',\n        } }, eventProps), renderContent()));\n});\nconst isFunctionOrNode = PropTypes.oneOfType([PropTypes.func, PropTypes.node]);\nDocument.propTypes = Object.assign(Object.assign({}, eventProps), { children: PropTypes.node, className: isClassName, error: isFunctionOrNode, externalLinkRel: PropTypes.string, externalLinkTarget: PropTypes.oneOf(['_self', '_blank', '_parent', '_top']), file: isFile, imageResourcesPath: PropTypes.string, inputRef: isRef, loading: isFunctionOrNode, noData: isFunctionOrNode, onItemClick: PropTypes.func, onLoadError: PropTypes.func, onLoadProgress: PropTypes.func, onLoadSuccess: PropTypes.func, onPassword: PropTypes.func, onSourceError: PropTypes.func, onSourceSuccess: PropTypes.func, options: PropTypes.shape({\n        canvasFactory: PropTypes.any,\n        canvasMaxAreaInBytes: PropTypes.number,\n        cMapPacked: PropTypes.bool,\n        CMapReaderFactory: PropTypes.any,\n        cMapUrl: PropTypes.string,\n        disableAutoFetch: PropTypes.bool,\n        disableFontFace: PropTypes.bool,\n        disableRange: PropTypes.bool,\n        disableStream: PropTypes.bool,\n        docBaseUrl: PropTypes.string,\n        enableXfa: PropTypes.bool,\n        filterFactory: PropTypes.any,\n        fontExtraProperties: PropTypes.bool,\n        httpHeaders: PropTypes.object,\n        isEvalSupported: PropTypes.bool,\n        isOffscreenCanvasSupported: PropTypes.bool,\n        length: PropTypes.number,\n        maxImageSize: PropTypes.number,\n        ownerDocument: PropTypes.any,\n        password: PropTypes.string,\n        pdfBug: PropTypes.bool,\n        rangeChunkSize: PropTypes.number,\n        StandardFontDataFactory: PropTypes.any,\n        standardFontDataUrl: PropTypes.string,\n        stopAtErrors: PropTypes.bool,\n        useSystemFonts: PropTypes.bool,\n        useWorkerFetch: PropTypes.bool,\n        verbosity: PropTypes.number,\n        withCredentials: PropTypes.bool,\n        worker: PropTypes.any,\n    }), rotate: PropTypes.number });\nexport default Document;\n"]},"metadata":{},"sourceType":"module"}